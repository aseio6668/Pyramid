<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FamousFighter - Championship Arena</title>
    <link rel="stylesheet" href="/css/platform.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="famousfighter-styles.css">
    <link rel="icon" href="/images/logo.svg" type="image/svg+xml">
</head>
<body>
    <!-- Pyramid Panel -->
    <div class="pyramid-panel">
        <div class="container">
            <div class="panel-content">
                <div class="pyramid-logo-section">
                    <span class="pyramid-icon">üî∫</span>
                    <span class="panel-title">Pyramid Panel</span>
                </div>
                <nav class="panel-nav">
                    <a href="/" class="nav-link">Games</a>
                    <a href="/games/mastercredits" class="nav-link">Casino</a>
                </nav>
                <div class="profile-section">
                    <div id="userProfile" class="user-profile" style="display: none;">
                        <div class="profile-avatar">
                            <img id="profileAvatarIcon" src="" alt="Avatar">
                        </div>
                        <span id="profileUsername">Player</span>
                        <div class="profile-menu">
                            <button class="profile-btn" onclick="window.PlatformAPI.showProfile()">Profile</button>
                            <button class="logout-btn" onclick="window.PlatformAPI.logout()">Logout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Game Container -->
    <div class="game-wrapper">
        <!-- Game Header -->
        <div class="game-header">
            <div class="header-content">
                <div class="game-title">
                    <h1>ü•ä FamousFighter Championship</h1>
                    <p>The ultimate fighting tournament awaits</p>
                </div>
                <div class="game-controls">
                    <button id="backBtn" class="control-btn" onclick="window.location.href='/'">
                        ‚Üê Back to Games
                    </button>
                </div>
            </div>
        </div>

        <!-- Game Canvas Container -->
        <div class="game-container">
            <canvas id="gameCanvas" width="1200" height="600"></canvas>
            
            <!-- Game UI Overlay -->
            <div class="game-ui">
                <!-- Health Bars -->
                <div class="health-bars">
                    <div class="player-health left">
                        <div class="player-name" id="player1Name">Fighter 1</div>
                        <div class="health-bar">
                            <div class="health-fill" id="player1Health"></div>
                        </div>
                    </div>
                    
                    <div class="fight-timer">
                        <div class="timer-display" id="fightTimer">99</div>
                    </div>
                    
                    <div class="player-health right">
                        <div class="player-name" id="player2Name">Fighter 2</div>
                        <div class="health-bar">
                            <div class="health-fill" id="player2Health"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Round Counter -->
                <div class="round-display">
                    <span id="roundText">Round 1</span>
                </div>
            </div>
        </div>

        <!-- Game Menu -->
        <div id="gameMenu" class="game-menu active">
            <div class="menu-content">
                <h2>ü•ä FamousFighter Championship</h2>
                <div class="menu-buttons">
                    <button class="menu-btn primary" onclick="game.showFighterSelect()">
                        ü•ä Start Fight
                    </button>
                    <button class="menu-btn" onclick="game.showControls()">
                        üéÆ Controls
                    </button>
                    <button class="menu-btn" onclick="game.showFighters()">
                        üë• Fighters
                    </button>
                </div>
            </div>
        </div>

        <!-- Fighter Selection Screen -->
        <div id="fighterSelect" class="fighter-select hidden">
            <div class="select-content">
                <h2>Choose Your Fighter</h2>
                <div class="fighter-grid" id="fighterGrid">
                    <!-- Fighters will be generated here -->
                </div>
                <div class="select-actions">
                    <button class="menu-btn secondary" onclick="game.showMenu()">Back</button>
                    <button class="menu-btn primary" onclick="game.startFight()" id="startFightBtn" disabled>Fight!</button>
                </div>
            </div>
        </div>

        <!-- Controls Screen -->
        <div id="controlsScreen" class="controls-screen hidden">
            <div class="controls-content">
                <h2>üéÆ Fighting Controls</h2>
                <div class="controls-layout">
                    <div class="player-controls">
                        <h3>Player 1 Controls</h3>
                        <div class="control-group">
                            <div class="control-item">
                                <span class="key">A/D</span>
                                <span class="action">Move Left/Right</span>
                            </div>
                            <div class="control-item">
                                <span class="key">W</span>
                                <span class="action">Jump</span>
                            </div>
                            <div class="control-item">
                                <span class="key">S</span>
                                <span class="action">Crouch/Block Down</span>
                            </div>
                            <div class="control-item">
                                <span class="key">J</span>
                                <span class="action">Light Punch</span>
                            </div>
                            <div class="control-item">
                                <span class="key">K</span>
                                <span class="action">Heavy Punch</span>
                            </div>
                            <div class="control-item">
                                <span class="key">L</span>
                                <span class="action">Kick</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="player-controls">
                        <h3>Player 2 Controls</h3>
                        <div class="control-group">
                            <div class="control-item">
                                <span class="key">‚Üê/‚Üí</span>
                                <span class="action">Move Left/Right</span>
                            </div>
                            <div class="control-item">
                                <span class="key">‚Üë</span>
                                <span class="action">Jump</span>
                            </div>
                            <div class="control-item">
                                <span class="key">‚Üì</span>
                                <span class="action">Crouch/Block Down</span>
                            </div>
                            <div class="control-item">
                                <span class="key">1</span>
                                <span class="action">Light Punch</span>
                            </div>
                            <div class="control-item">
                                <span class="key">2</span>
                                <span class="action">Heavy Punch</span>
                            </div>
                            <div class="control-item">
                                <span class="key">3</span>
                                <span class="action">Kick</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="combat-tips">
                    <h3>ü•ä Combat Tips</h3>
                    <ul>
                        <li><strong>Blocking:</strong> Hold back while being attacked or crouch for low attacks</li>
                        <li><strong>Combos:</strong> Chain light punches into heavy attacks</li>
                        <li><strong>Jump Attacks:</strong> Jump + punch for overhead attacks</li>
                        <li><strong>Counter-attacks:</strong> Block and immediately counter for extra damage</li>
                    </ul>
                </div>
                
                <button class="menu-btn" onclick="game.showMenu()">Back to Menu</button>
            </div>
        </div>

        <!-- Fighters Gallery -->
        <div id="fightersScreen" class="fighters-screen hidden">
            <div class="fighters-content">
                <h2>üë• Meet the Fighters</h2>
                <div class="fighter-profiles" id="fighterProfiles">
                    <!-- Fighter profiles will be generated here -->
                </div>
                <button class="menu-btn" onclick="game.showMenu()">Back to Menu</button>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="game-over hidden">
            <div class="game-over-content">
                <h2 id="gameOverTitle">Fight Complete!</h2>
                <div id="gameOverStats" class="fight-stats">
                    <!-- Fight statistics will go here -->
                </div>
                <div class="game-over-actions">
                    <button class="menu-btn primary" onclick="game.rematch()">Rematch</button>
                    <button class="menu-btn" onclick="game.showMenu()">Main Menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/js/platform.js"></script>
    <script src="famousfighter-engine.js"></script>
    
    <script>
        // Initialize platform when page loads
        window.addEventListener('load', () => {
            // Initialize platform if available
            if (window.PlatformAPI) {
                window.PlatformAPI.checkAuthStatus();
            }
            
            // Initialize FamousFighter game
            window.game = new FamousFighter();
        });
    </script>
</body>
</html>